/* Page Transition Styles - Optimized */
.page-transition-container {
  position: relative;
  width: 100%;
  height: 100%;
  contain: layout style;
}

/* Ensure elements maintain their position during transitions - only apply to specific elements */
.page-transition-container img,
.page-transition-container video,
.page-transition-container canvas,
.page-transition-container .loading-spinner {
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* Optimize animations for performance */
@media (prefers-reduced-motion: reduce) {
  .page-transition-container * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Loading spinner optimizations */
.loading-spinner {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* Ensure smooth scrolling during transitions */
html {
  scroll-behavior: auto; /* Let Lenis handle smooth scrolling */
}

/* Prevent layout shifts during transitions */
body {
  overflow-x: hidden;
}

/* Optimize Lenis smooth scroll performance */
.lenis {
  overflow: hidden;
}

.lenis.lenis-smooth {
  scroll-behavior: auto;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

/* Ensure elements don't shift during page transitions */
.App {
  position: relative;
  min-height: 100vh;
}

/* Prevent layout shifts for fixed elements */
.fixed {
  position: fixed !important;
}

/* Ensure proper stacking context */
.relative {
  position: relative !important;
}

/* Prevent tech page styles from affecting main app */
body:not(.tech-page-active) {
  /* Reset any potential tech page style leaks */
  font-family: inherit !important;
  background: inherit !important;
  color: inherit !important;
  overflow-x: hidden !important;
  overflow-y: auto !important;
}

/* Ensure Tailwind classes work properly after navigation */
body:not(.tech-page-active) * {
  /* Reset box-sizing to Tailwind default */
  box-sizing: border-box;
}

/* Force Tailwind utility classes to work */
.flex { display: flex !important; }
.grid { display: grid !important; }
.hidden { display: none !important; }
.block { display: block !important; }
.inline { display: inline !important; }
.inline-block { display: inline-block !important; }
.absolute { position: absolute !important; }
.relative { position: relative !important; }
.fixed { position: fixed !important; }
.sticky { position: sticky !important; }

/* Prevent any layout shifts during route changes */
body:not(.tech-page-active) .App {
  position: relative;
  width: 100%;
  min-height: 100vh;
}

/* Force re-render to ensure styles are applied */
body:not(.tech-page-active) * {
  animation: none 0s ease 0s 1 normal none running;
}

/* Preserve main page layout */
body:not(.tech-page-active) #root {
  width: 100%;
  min-height: 100vh;
}

